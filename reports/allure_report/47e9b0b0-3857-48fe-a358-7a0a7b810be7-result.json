{"name": "使用有效凭据登录", "status": "failed", "statusDetails": {"message": "AssertionError: 登录失败: None\nassert None == 0\n +  where None = <built-in method get of dict object at 0x104c14780>('code')\n +    where <built-in method get of dict object at 0x104c14780> = {'error': \"HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /user/login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104c12e20>: Failed to establish a new connection: [Errno 61] Connection refused'))\"}.get", "trace": "self = <test_demo_api.TestUserAPI object at 0x104b368b0>, api_client = <common.api_client.APIClient object at 0x104ba8e50>\n\n    @allure.story(\"登录接口\")\n    @allure.title(\"使用有效凭据登录\")\n    @pytest.mark.smoke\n    def test_login_with_valid_credentials(self, api_client):\n        \"\"\"测试使用有效凭据登录\"\"\"\n        # 获取测试数据\n        valid_data = login_test_data.get('valid', {})\n    \n        # 发送登录请求\n        with allure.step(\"发送登录请求\"):\n            response = api_client.login(\n                number=valid_data.get('number'),\n                username=valid_data.get('username'),\n                password=valid_data.get('password')\n            )\n    \n        # 断言响应\n        with allure.step(\"验证登录成功\"):\n>           assert response.get('code') == 0, f\"登录失败: {response.get('message')}\"\nE           AssertionError: 登录失败: None\nE           assert None == 0\nE            +  where None = <built-in method get of dict object at 0x104c14780>('code')\nE            +    where <built-in method get of dict object at 0x104c14780> = {'error': \"HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /user/login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104c12e20>: Failed to establish a new connection: [Errno 61] Connection refused'))\"}.get\n\ntest_cases/api/test_demo_api.py:36: AssertionError"}, "description": "测试使用有效凭据登录", "steps": [{"name": "发送登录请求", "status": "passed", "start": 1742991641540, "stop": 1742991641545}, {"name": "验证登录成功", "status": "failed", "statusDetails": {"message": "AssertionError: 登录失败: None\nassert None == 0\n +  where None = <built-in method get of dict object at 0x104c14780>('code')\n +    where <built-in method get of dict object at 0x104c14780> = {'error': \"HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /user/login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104c12e20>: Failed to establish a new connection: [Errno 61] Connection refused'))\"}.get\n", "trace": "  File \"/Users/Apple/PycharmProjects/himool_auto_case/test_cases/api/test_demo_api.py\", line 36, in test_login_with_valid_credentials\n    assert response.get('code') == 0, f\"登录失败: {response.get('message')}\"\n"}, "start": 1742991641545, "stop": 1742991641545}], "attachments": [{"name": "stderr", "source": "36c8c041-02a4-45e7-a3f6-45bf63667612-attachment.txt", "type": "text/plain"}], "start": 1742991641540, "stop": 1742991641546, "uuid": "1878505a-c3ab-4c27-ba61-814b6cdcaedb", "historyId": "b2c3e5718c1ed6d2532f8cc605d4e167", "testCaseId": "b2c3e5718c1ed6d2532f8cc605d4e167", "fullName": "test_cases.api.test_demo_api.TestUserAPI#test_login_with_valid_credentials", "labels": [{"name": "feature", "value": "用户管理"}, {"name": "story", "value": "登录接口"}, {"name": "epic", "value": "API测试"}, {"name": "tag", "value": "smoke"}, {"name": "parentSuite", "value": "test_cases.api"}, {"name": "suite", "value": "test_demo_api"}, {"name": "subSuite", "value": "TestUserAPI"}, {"name": "host", "value": "MacBook-Pro.local"}, {"name": "thread", "value": "78732-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cases.api.test_demo_api"}]}