{"name": "测试添加用户接口", "status": "failed", "statusDetails": {"message": "AssertionError: 添加用户失败，状态码: 500\nassert 500 == 201\n +  where 500 = <Response [500]>.status_code", "trace": "self = <test_cases.api.system_manager.users.test_user_management.TestUserManagement object at 0x105792310>\napi_client = <common.api_client.ApiClient object at 0x1057dc3d0>\n\n    @allure.story(\"用户管理\")\n    @allure.title(\"测试添加用户接口\")\n    def test_add_user(self, api_client):\n        \"\"\"\n        测试添加用户API接口\n        \"\"\"\n        # 设置请求参数\n        endpoint = \"api/users\"\n        payload = {\n            \"username\": \"testuser\",\n            \"name\": \"测试用户\",\n            \"phone\": \"13800138000\",\n            \"email\": \"test@example.com\",\n            \"sex\": \"man\",\n            \"roles\": [1],\n            \"is_active\": True\n        }\n    \n        # 添加测试步骤\n        with allure.step(\"发送添加用户请求\"):\n            allure.attach(json.dumps(payload, ensure_ascii=False, indent=2),\n                         \"请求参数\", allure.attachment_type.JSON)\n            response = api_client.post(endpoint, json_data=payload)\n    \n        # 记录响应结果\n        with allure.step(\"获取响应结果\"):\n            allure.attach(response.text, \"响应内容\", allure.attachment_type.TEXT)\n            allure.attach(str(response.status_code), \"状态码\", allure.attachment_type.TEXT)\n    \n        # 断言响应状态码\n        with allure.step(\"验证响应状态码\"):\n>           assert response.status_code == 201, f\"添加用户失败，状态码: {response.status_code}\"\nE           AssertionError: 添加用户失败，状态码: 500\nE           assert 500 == 201\nE            +  where 500 = <Response [500]>.status_code\n\ntest_cases/api/system_manager/users/test_user_management.py:46: AssertionError"}, "description": "\n        测试添加用户API接口\n        ", "steps": [{"name": "发送添加用户请求", "status": "passed", "attachments": [{"name": "请求参数", "source": "a47ba6c1-7d8d-46e3-8876-3c02e52f0d10-attachment.json", "type": "application/json"}], "start": 1743952463941, "stop": 1743952463987}, {"name": "获取响应结果", "status": "passed", "attachments": [{"name": "响应内容", "source": "5e937951-a02c-45df-b3c8-14418cad05bb-attachment.txt", "type": "text/plain"}, {"name": "状态码", "source": "6a9525da-e023-445a-8ddc-776c302ec37f-attachment.txt", "type": "text/plain"}], "start": 1743952463987, "stop": 1743952463987}, {"name": "验证响应状态码", "status": "failed", "statusDetails": {"message": "AssertionError: 添加用户失败，状态码: 500\nassert 500 == 201\n +  where 500 = <Response [500]>.status_code\n", "trace": "  File \"/Users/Apple/PycharmProjects/himool_auto_case/test_cases/api/system_manager/users/test_user_management.py\", line 46, in test_add_user\n    assert response.status_code == 201, f\"添加用户失败，状态码: {response.status_code}\"\n"}, "start": 1743952463987, "stop": 1743952463987}], "attachments": [{"name": "log", "source": "15bebea0-f7b2-4b46-8919-d3b936c2b129-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "de97d337-2136-45b9-89b9-b61340e0af17-attachment.txt", "type": "text/plain"}], "start": 1743952463941, "stop": 1743952463991, "uuid": "a3e1dc01-8bd0-41f1-9f08-8d2040991a95", "historyId": "7fe1d569f6fe623e59ef054f9340143d", "testCaseId": "7fe1d569f6fe623e59ef054f9340143d", "fullName": "test_cases.api.system_manager.users.test_user_management.TestUserManagement#test_add_user", "labels": [{"name": "feature", "value": "系统管理"}, {"name": "story", "value": "用户管理"}, {"name": "epic", "value": "API测试"}, {"name": "parentSuite", "value": "test_cases.api.system_manager.users"}, {"name": "suite", "value": "test_user_management"}, {"name": "subSuite", "value": "TestUserManagement"}, {"name": "host", "value": "MacBook-Pro.local"}, {"name": "thread", "value": "78437-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cases.api.system_manager.users.test_user_management"}]}